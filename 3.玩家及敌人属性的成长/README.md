# 3.玩家及敌人属性的成长
## 强度数值的引入
### DPS

> DPS是“Damage Per Second”的缩写，即单位“每秒所能造成的伤害值”，也可称之为“秒伤”。

在RPG服务器中，通常情况下玩家每次打出伤害所需要的时间是10Tick(即0.5秒)。

    物理攻击: 28.18 - 73.78

通过第一章的学习，我们已经得到了玩家的初始武器数据。  
以初始武器为例，我们来计算该练度下玩家的DPS。

    武器的最大伤害和最小伤害:
    45.6 * 0.618 = 28.1808
    45.6 * 1.618 = 73.7808

    每次攻击造成的平均伤害：
    ( 28.18 + 73.78 ) / 2 = 50.98

    玩家每秒所能造成的伤害:
    50.98 / 0.5 = 101.86

化简后得到DPS公式:

    DPS = 玩家攻击力 * 2.236


### TTK

> TTK是“Time To Kill”的缩写，即单位“击杀敌人所需要的时间”。

TTK的计算公式：

    TTK = 敌人血量 / DPS

例如敌人的血量为570，按照"物理攻击: 28.18 - 73.78"的标准。  
我们可以计算击杀其所需要的时间：

    TTK = 570 / 101.86 = 5.59

同等级的玩家与敌人，对应TTK需控制在5秒左右。

    本篇教程将同一副本中的普通敌人、精英敌人、领主敌人、BOSS视为不同等级。

## 属性成长

### 玩家与敌人的等级

> 升到下一级所需经验值的计算公式如下：  
> 升级所需 =  
> 2×[当前等级] + 7（0-15级时）  
> 5×[当前等级] - 38（16-30级时）  
> 9×[当前等级] - 158（在31级以上）  
> 
> 升到某一级所需经验值总量的计算公式如下：  
> 经验总量 =  
> [等级]2 + 6×[等级]（0-16级时）  
> 2.5×[等级]2 - 40.5×[等级] + 360（17-31级时）  
> 4.5×[等级]2 - 162.5×[等级] + 2220（在32级以上）  

    值得注意的是，Minecraft中的玩家的等级上限为21863。

在本系列教程中，同等级的玩家与敌人，对应TTK需控制在5秒左右。  
换言之，如果玩家击杀单个敌人的时间控制在5秒上下，即可判断二者等级相近。

    这里，我们需要保证材料和经验的掉落是相对协调的。  
    即武器装备和玩家达到与敌人相同的等级，所需要击杀的敌人数量相同。

### 玩家与敌人的属性成长

在RPG服务器中，属性的成长一般呈现一个稳定的趋势。  
即在相邻两个等级间，它们对应属性的比值对应相等。

这个比值通常不是固定的，他在本篇教程中的计算公式为:

    属性成长比 = - 0.0014 * ( 等级 % 100 ) + 1.164

即 本级属性 : 下级属性 = 1 : [ - 0.0014 * ( 下级等级 % 100 ) + 1.164 ] 。

由此可以得出公式：
    
    属性 = { [ - 0.0014 * ( 等级 % 100 ) + 1.164 ] ^ 等级 } * 基础数值

例如我们想要计算玩家10级时的血量：

    [ ( - 0.0014 * 10 + 1.164 ) ^ 10 ] * 912 = 3689.54
 
随即我们把计算得的数值按照 1/4/3/2 的权重分配给 头盔/胸甲/护腿/靴子 ，  
这样玩家在10级时的装备数值就完成了。

    本篇教程介绍的公式对于任意等级的玩家或怪物都同样适用。
